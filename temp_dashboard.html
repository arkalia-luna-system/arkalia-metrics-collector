<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arkalia Metrics Dashboard - Interactif</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        .metric-card {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .metric-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
        }
        .table-container {
            max-height: 600px;
            overflow-y: auto;
        }
        .table-container::-webkit-scrollbar {
            width: 8px;
        }
        .table-container::-webkit-scrollbar-track {
            background: #1f2937;
        }
        .table-container::-webkit-scrollbar-thumb {
            background: #4b5563;
            border-radius: 4px;
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <header class="text-center mb-12">
            <h1 class="text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600 mb-4">
                üöÄ Arkalia Metrics Dashboard
            </h1>
            <p class="text-xl text-gray-300 mb-2">
                M√©triques collect√©es le 2025-11-24T16:14:32.403614
            </p>
            <div class="flex justify-center gap-4 mt-4">
                <button onclick="exportJSON()" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg transition">
                    üì• Export JSON
                </button>
                <button onclick="exportCSV()" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg transition">
                    üì• Export CSV
                </button>
            </div>
        </header>

        <!-- M√©triques principales -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
            <div class="metric-card bg-gradient-to-br from-blue-600 to-blue-800 p-6 rounded-xl shadow-lg">
                <div class="text-center">
                    <div class="text-4xl font-bold mb-2">4</div>
                    <div class="text-blue-200">Fichiers Python</div>
                </div>
            </div>
            <div class="metric-card bg-gradient-to-br from-green-600 to-green-800 p-6 rounded-xl shadow-lg">
                <div class="text-center">
                    <div class="text-4xl font-bold mb-2">24</div>
                    <div class="text-green-200">Lignes de Code</div>
                </div>
            </div>
            <div class="metric-card bg-gradient-to-br from-purple-600 to-purple-800 p-6 rounded-xl shadow-lg">
                <div class="text-center">
                    <div class="text-4xl font-bold mb-2">1</div>
                    <div class="text-purple-200">Tests</div>
                </div>
            </div>
            <div class="metric-card bg-gradient-to-br from-orange-600 to-orange-800 p-6 rounded-xl shadow-lg">
                <div class="text-center">
                    <div class="text-4xl font-bold mb-2">2</div>
                    <div class="text-orange-200">Documentation</div>
                </div>
            </div>
        </div>

        <!-- Coverage si disponible -->
        

        <!-- Graphiques d'√©volution -->
        
        <div class="bg-gray-800 rounded-xl p-6 mb-8">
            <h2 class="text-2xl font-bold mb-4">üìà √âvolution des M√©triques</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-lg font-semibold mb-2">Modules Python</h3>
                    <canvas id="modulesChart"></canvas>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-2">Lignes de Code</h3>
                    <canvas id="linesChart"></canvas>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-2">Tests</h3>
                    <canvas id="testsChart"></canvas>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-2">Vue d'ensemble</h3>
                    <canvas id="overviewChart"></canvas>
                </div>
            </div>
        </div>
        

        <!-- D√©tails des m√©triques -->
        <div class="bg-gray-800 rounded-xl p-6 mb-8">
            <h2 class="text-2xl font-bold mb-4">üìã D√©tails des M√©triques</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-lg font-semibold mb-2">üêç M√©triques Python</h3>
                    <ul class="space-y-2 text-gray-300">
                        <li>‚Ä¢ Fichiers core: 2</li>
                        <li>‚Ä¢ Fichiers de test: 2</li>
                        <li>‚Ä¢ Total lignes: 24</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-2">üß™ M√©triques de Tests</h3>
                    <ul class="space-y-2 text-gray-300">
                        <li>‚Ä¢ Fichiers de test: 2</li>
                        <li>‚Ä¢ Dossiers de test: 1</li>
                        <li>‚Ä¢ Tests collect√©s: 1</li>
                        
                    </ul>
                </div>
            </div>
        </div>

        <!-- Tableau des projets (si m√©triques agr√©g√©es) -->
        

        <!-- Tableau des fichiers Python (si disponible) -->
        
        <div class="bg-gray-800 rounded-xl p-6 mb-8">
            <h2 class="text-2xl font-bold mb-4">üìÅ Fichiers Python (4 fichiers)</h2>
            <div class="table-container">
                <table class="w-full text-left">
                    <thead class="bg-gray-700 sticky top-0">
                        <tr>
                            <th class="px-4 py-2">#</th>
                            <th class="px-4 py-2">Chemin</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="hover:bg-gray-700"><td class="px-4 py-2">1</td><td class="px-4 py-2 text-gray-300">tests/__init__.py</td></tr><tr class="hover:bg-gray-700"><td class="px-4 py-2">2</td><td class="px-4 py-2 text-gray-300">tests/test_main.py</td></tr><tr class="hover:bg-gray-700"><td class="px-4 py-2">3</td><td class="px-4 py-2 text-gray-300">src/package/__init__.py</td></tr><tr class="hover:bg-gray-700"><td class="px-4 py-2">4</td><td class="px-4 py-2 text-gray-300">src/package/main.py</td></tr>
                    </tbody>
                </table>
            </div>
            
        </div>
        

        <!-- Footer -->
        <footer class="text-center mt-12 text-gray-400">
            <p>G√©n√©r√© par <strong>Arkalia Metrics Collector</strong> v1.1.0</p>
        </footer>
    </div>

    <!-- Scripts JavaScript -->
    <script>
        const chartData = {"current": {"modules": 4, "lines": 24, "tests": 1, "docs": 2}, "history": {"labels": ["2025-11-14"], "modules": [52336], "lines": [24792057], "tests": [11208]}};
        const metricsData = {
  "timestamp": "2025-11-24T16:14:32.736835",
  "project_root": "/private/var/folders/7j/xgp8mds53ms6blyzf8g4173m0000gn/T/pytest-of-athalia/pytest-17/test_dashboard_with_port0/sample_project",
  "collection_info": {
    "collector_version": "1.1.0",
    "python_version": "3.10.14",
    "collection_date": "2025-11-24T16:14:32.403614"
  },
  "python_files": {
    "count": 4,
    "core_files": 2,
    "test_files": 2,
    "total_lines": 24,
    "files_list": [
      "tests/__init__.py",
      "tests/test_main.py",
      "src/package/__init__.py",
      "src/package/main.py"
    ]
  },
  "test_metrics": {
    "test_files_count": 2,
    "test_directories_count": 1,
    "collected_tests_count": 1,
    "test_files_list": [
      "tests/__init__.py",
      "tests/test_main.py"
    ]
  },
  "documentation_metrics": {
    "documentation_files": 2,
    "documentation_list": [
      "README.md",
      ".pytest_cache/README.md"
    ]
  },
  "summary": {
    "total_python_files": 4,
    "lines_of_code": 24,
    "collected_tests": 1,
    "documentation_files": 2
  }
};

        
        const chartOptions = {
            responsive: true,
            maintainAspectRatio: true,
            plugins: {
                legend: {
                    labels: { color: '#e5e7eb' }
                }
            },
            scales: {
                x: {
                    ticks: { color: '#9ca3af' },
                    grid: { color: '#374151' }
                },
                y: {
                    ticks: { color: '#9ca3af' },
                    grid: { color: '#374151' }
                }
            }
        };

        // Graphique Modules
        new Chart(document.getElementById('modulesChart'), {
            type: 'line',
            data: {
                labels: ["2025-11-14"],
                datasets: [{
                    label: 'Modules Python',
                    data: [52336],
                    borderColor: 'rgb(59, 130, 246)',
                    backgroundColor: 'rgba(59, 130, 246, 0.1)',
                    tension: 0.4
                }]
            },
            options: chartOptions
        });

        // Graphique Lignes de Code
        new Chart(document.getElementById('linesChart'), {
            type: 'line',
            data: {
                labels: ["2025-11-14"],
                datasets: [{
                    label: 'Lignes de Code',
                    data: [24792057],
                    borderColor: 'rgb(34, 197, 94)',
                    backgroundColor: 'rgba(34, 197, 94, 0.1)',
                    tension: 0.4
                }]
            },
            options: chartOptions
        });

        // Graphique Tests
        new Chart(document.getElementById('testsChart'), {
            type: 'line',
            data: {
                labels: ["2025-11-14"],
                datasets: [{
                    label: 'Tests',
                    data: [11208],
                    borderColor: 'rgb(168, 85, 247)',
                    backgroundColor: 'rgba(168, 85, 247, 0.1)',
                    tension: 0.4
                }]
            },
            options: chartOptions
        });

        // Graphique Vue d'ensemble
        new Chart(document.getElementById('overviewChart'), {
            type: 'bar',
            data: {
                labels: ["2025-11-14"],
                datasets: [
                    {
                        label: 'Modules',
                        data: [52336],
                        backgroundColor: 'rgba(59, 130, 246, 0.6)'
                    },
                    {
                        label: 'Tests',
                        data: [11208],
                        backgroundColor: 'rgba(168, 85, 247, 0.6)'
                    }
                ]
            },
            options: chartOptions
        });
        

        function exportJSON() {
            const dataStr = JSON.stringify(metricsData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'metrics.json';
            link.click();
        }

        function exportCSV() {
            const summary = metricsData.summary || {};
            const csv = [
                ['M√©trique', 'Valeur', 'Unit√©'],
                ['Fichiers Python', summary.total_python_files || 0, 'fichiers'],
                ['Lignes de Code', summary.lines_of_code || 0, 'lignes'],
                ['Tests', summary.collected_tests || 0, 'tests'],
                ['Documentation', summary.documentation_files || 0, 'fichiers'],
            ].map(row => row.join(',')).join('\n');

            const dataBlob = new Blob([csv], {type: 'text/csv'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'metrics.csv';
            link.click();
        }
    </script>
</body>
</html>